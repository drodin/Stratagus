diff a/CMakeLists.txt b/CMakeLists.txt	(rejected hunks)
@@ -1112,7 +1112,7 @@ if(WIN32 AND MINGW AND ENABLE_STATIC)
 endif()

 if(APPLE)
-	set_target_properties(stratagus PROPERTIES LINK_FLAGS "${LINK_FLAGS} -framework libpng -lSDLmain")
+	set_target_properties(stratagus PROPERTIES LINK_FLAGS "${LINK_FLAGS} -framework libpng -lSDL2main")
 endif()

 ########### next target ###############
@@ -1137,7 +1137,7 @@ source_group(metaserver FILES ${metaserv

 if(SQLITE_FOUND)
	add_executable(metaserver ${metaserver_SRCS} ${metaserver_HDRS})
-	target_link_libraries(metaserver ${SDL_LIBRARY} ${SQLITE_LIBRARIES})
+	target_link_libraries(metaserver ${SDL2_LIBRARY} ${SQLITE_LIBRARIES})

	if(WIN32 AND MINGW AND ENABLE_STATIC)
		set_target_properties(metaserver PROPERTIES LINK_FLAGS "${LINK_FLAGS} -static-libgcc -static-libstdc++")
